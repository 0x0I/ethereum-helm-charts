replicas: 1

mode: validator

extraArgs:
  - --network=prater
  - --enable-doppelganger-protection
  - --beacon-nodes=http://lighthouse-beacon:5052

persistence:
  enabled: true
  accessModes:
  - ReadWriteOnce
  size: 5Gi
  storageClassName: do-block-storage

serviceMonitor:
  enabled: true

initContainers:
# Example of an init container that could inject any data using the replica index based on hostname
- name: init-check-replica-index
  image: busybox:1.34.0
  imagePullPolicy: IfNotPresent
  securityContext:
    runAsNonRoot: false
    runAsUser: 0
  command:
  - sh
  - -ac
  - >
    export INDEX=$(echo $(hostname) | rev | cut -s -d '-' -f1);
    echo "Hello from replica $INDEX";
  volumeMounts:
    - name: storage
      mountPath: "/data"
